# HG changeset patch
# Parent 52f9e8ffe111884e934c7efeae4ffea67a44b128
# User Scott Johnson <sjohnson@mozilla.com>
Bug 243412: Add reftests for css3-ui box-sizing in W3C format.

diff --git a/layout/reftests/w3c-css/submitted/reftest.list b/layout/reftests/w3c-css/submitted/reftest.list
--- a/layout/reftests/w3c-css/submitted/reftest.list
+++ b/layout/reftests/w3c-css/submitted/reftest.list
@@ -45,12 +45,12 @@ include multicol3/reftest.list
 
 # Transforms
 # include transforms/reftest.list
 
 # Transitions
 # include transitions/reftest.list
 
 # User Interface Level 3
-# include ui3/reftest.list
+include ui3/reftest.list
 
 # Values and Units Level 3
 include values3/reftest.list
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.ref.xht
@@ -0,0 +1,40 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Border-Box with specified width</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 140px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht
@@ -0,0 +1,41 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Border-Box with specified width</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: border-box;
+      width: 50%;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.ref.xht
@@ -0,0 +1,41 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Border-Box with specified width</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 120px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 0px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Border-Box with specified width</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: border-box;
+      width: 50%;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 0px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.ref.xht
@@ -0,0 +1,43 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Border-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 400px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 120px;
+      height: 340px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 25px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Border-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 400px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: border-box;
+      width: 50%;
+      height: 100%;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 25px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.ref.xht
@@ -0,0 +1,46 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Border-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      min-width: 240px;
+      max-width: 340px;
+      min-height: 60px;
+      max-height: 80px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Border-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: border-box;
+      min-width: 250px;
+      max-width: 350px;
+      min-height: 70px;
+      max-height: 90px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.ref.xht
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Content-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 110px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 140px;
+      height: 100px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht
@@ -0,0 +1,43 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Content-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 110px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: content-box;
+      width: 140px;
+      height: 100px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.ref.xht
@@ -0,0 +1,43 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Content-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 100px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 130px;
+      height: 80px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 5px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Content-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 100px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: content-box;
+      width: 130px;
+      height: 80px;
+      z-index: 1;
+      float: left;
+      border: 5px solid black;
+      padding: 5px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.ref.xht
@@ -0,0 +1,45 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Content-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      min-width: 250px;
+      max-width: 350px;
+      min-height: 70px;
+      max-height: 90px;
+      z-index: 1;
+      float: left;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht
@@ -0,0 +1,46 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Content-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: content-box;
+      min-width: 250px;
+      max-width: 350px;
+      min-height: 70px;
+      max-height: 90px;
+      z-index: 1;
+      float: left;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.ref.xht
@@ -0,0 +1,40 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Padding-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 140px;
+      z-index: 1;
+      float: left;
+      padding: 0px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-001.xht
@@ -0,0 +1,41 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Padding-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: padding-box;
+      width: 50%;
+      z-index: 1;
+      float: left;
+      padding: 0px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.ref.xht
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Padding-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 400px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      width: 130px;
+      height: 350px;
+      z-index: 1;
+      float: left;
+      padding: 25px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-002.xht
@@ -0,0 +1,43 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Padding-Box with specified width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      width: 300px;
+      height: 400px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: padding-box;
+      width: 50%;
+      height: 100%;
+      z-index: 1;
+      float: left;
+      padding: 25px 10px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.ref.xht
@@ -0,0 +1,46 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Reference: Box Sizing - Padding-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      min-width: 240px;
+      max-width: 340px;
+      min-height: 60px;
+      max-height: 80px;
+      z-index: 1;
+      float: left;
+      padding: 5px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-padding-box-003.xht
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+ <head>
+  <title>CSS Test: Box Sizing - Padding-Box with min/max width/height</title>
+  <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
+  <style type="text/css"><![CDATA[
+    .container {
+      min-width: 500px;
+      max-width: 700px;
+      min-height: 70px;
+      max-height: 90px;
+      border: 2px solid black;
+      position: absolute;
+      left: 25px;
+      top: 25px;
+      background-color: red;
+    }
+
+    .box-sized {
+      -moz-box-sizing: padding-box;
+      min-width: 250px;
+      max-width: 350px;
+      min-height: 70px;
+      max-height: 90px;
+      z-index: 1;
+      float: left;
+      padding: 5px 5px;
+    }
+
+    #one {
+      background-color: green;
+    }
+
+    #two {
+      background-color: blue;
+    }
+  ]]></style>
+ </head>
+ <body>
+   The two divs should be side-by-side, not one on top of another. No red should be visible.
+   <br />
+   <div class="container">
+     <div class="box-sized" id="one">LEFT HALF</div>
+     <div class="box-sized" id="two">RIGHT HALF</div>
+   </div>
+ </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.ref.xht
@@ -0,0 +1,147 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+  <head>
+    <title>CSS Reference: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
+    <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
+    <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
+    <meta content="image" name="flags"></meta>
+    <!--
+      <link rel="help" href="http://www.w3.org/TR/2012/WD-css3-ui-20120117/#box-sizing">
+    -->
+    <style type="text/css">
+      p {
+        display: inline-block;
+        background-color: white;
+      }
+
+      .with-padding {
+        padding: 5px 5px;
+      }
+
+      #img1 {
+        width: 65px;
+        height: 65px;
+      }
+
+      #img2 {
+        max-width:  65px;
+        min-height: 50px;
+      }
+
+      #img3 {
+        max-width:  65px;
+        min-height: 65px;
+      }
+
+      #img4 {
+        min-width:   65px;
+        max-height:  90px;
+      }
+
+      #img5 {
+        min-width:   65px;
+        max-height:  65px;
+      }
+
+      #img6 {
+        min-width:  50px;
+        max-height: 65px;
+      }
+
+      #img7 {
+        min-width:  65px;
+        max-height: 65px;
+      }
+
+      #img8 {
+        max-width: 90px;
+        min-height: 65px;
+      }
+
+      #img9 {
+        max-width:  65px;
+        min-height: 65px;
+      }
+
+      #img10 {
+        min-width:  65px;
+        max-width: 140px;
+        max-height: 65px;
+      }
+
+      #img11 {
+        min-width:  15px;
+        max-width: 215px;
+        max-height: 65px;
+      }
+
+      #img12 {
+        max-width:   65px;
+        min-height:  65px;
+        max-height: 140px;
+      }
+
+      #img13 {
+        max-width:   65px;
+        min-height:  15px;
+        max-height: 215px;
+      }
+
+      #img14 {
+        min-width:   40px;
+        max-width:   90px;
+        min-height:  65px;
+      }
+
+      #img15 {
+        min-width:   45px;
+        max-width:   65px;
+        min-height:  65px;
+      }
+
+      #img16 {
+        min-width:   65px;
+        min-height:  40px;
+        max-height:  90px;
+      }
+
+      #img17 {
+        min-width:  65px;
+        min-height: 45px;
+        max-height: 65px;
+      }
+
+      #img18 {
+        min-width:  65px;
+        max-height: 65px;
+      }
+
+      #img19 {
+        max-width:  65px;
+        min-height: 65px;
+      }
+    </style>
+  </head>
+  <body>
+    <div>All rectangles should be the same size.</div>
+    <p><img id="img1" class="with-padding" title="Test 1" alt="FAIL" src="support/replaced-min-max-1.png"></img></p>
+    <p><img id="img2" class="with-padding" title="Test 2" alt="FAIL" src="support/replaced-min-max-2.png"></img></p>
+    <p><img id="img3" class="with-padding" title="Test 3" alt="FAIL" src="support/replaced-min-max-3.png"></img></p>
+    <p><img id="img4" class="with-padding" title="Test 4" alt="FAIL" src="support/replaced-min-max-4.png"></img></p>
+    <p><img id="img5" class="with-padding" title="Test 5" alt="FAIL" src="support/replaced-min-max-5.png"></img></p>
+    <p><img id="img6" class="with-padding" title="Test 6" alt="FAIL" src="support/replaced-min-max-6.png"></img></p>
+    <p><img id="img7" class="with-padding" title="Test 7" alt="FAIL" src="support/replaced-min-max-7.png"></img></p>
+    <p><img id="img8" class="with-padding" title="Test 8" alt="FAIL" src="support/replaced-min-max-8.png"></img></p>
+    <p><img id="img9" class="with-padding" title="Test 9" alt="FAIL" src="support/replaced-min-max-9.png"></img></p>
+    <p><img id="img10" class="with-padding" title="Test 10" alt="FAIL" src="support/replaced-min-max-10.png"></img></p>
+    <p><img id="img11" class="with-padding" title="Test 11" alt="FAIL" src="support/replaced-min-max-11.png"></img></p>
+    <p><img id="img12" class="with-padding" title="Test 12" alt="FAIL" src="support/replaced-min-max-12.png"></img></p>
+    <p><img id="img13" class="with-padding" title="Test 13" alt="FAIL" src="support/replaced-min-max-13.png"></img></p>
+    <p><img id="img14" class="with-padding" title="Test 14" alt="FAIL" src="support/replaced-min-max-14.png"></img></p>
+    <p><img id="img15" class="with-padding" title="Test 15" alt="FAIL" src="support/replaced-min-max-15.png"></img></p>
+    <p><img id="img16" class="with-padding" title="Test 16" alt="FAIL" src="support/replaced-min-max-16.png"></img></p>
+    <p><img id="img17" class="with-padding" title="Test 17" alt="FAIL" src="support/replaced-min-max-17.png"></img></p>
+    <p><img id="img18" class="with-padding" title="Test 18" alt="FAIL" src="support/replaced-min-max-18.png"></img></p>
+    <p><img id="img19" class="with-padding" title="Test 19" alt="FAIL" src="support/replaced-min-max-19.png"></img></p>
+  </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht
@@ -0,0 +1,148 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+  <head>
+    <title>CSS Test: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
+    <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
+    <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
+    <meta content="image" name="flags"></meta>
+    <!--
+      <link rel="help" href="http://www.w3.org/TR/2012/WD-css3-ui-20120117/#box-sizing">
+    -->
+    <style type="text/css">
+      p {
+        display: inline-block;
+        background-color: white;
+      }
+
+      .with-padding {
+        padding: 5px 5px;
+        -moz-box-sizing: padding-box;
+      }
+
+      #img1 {
+        width: 75px;
+        height: 75px;
+      }
+
+      #img2 {
+        max-width:  75px;
+        min-height: 60px;
+      }
+
+      #img3 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+
+      #img4 {
+        min-width:   75px;
+        max-height: 100px;
+      }
+
+      #img5 {
+        min-width:   75px;
+        max-height:  75px;
+      }
+
+      #img6 {
+        min-width:  60px;
+        max-height: 75px;
+      }
+
+      #img7 {
+        min-width:  75px;
+        max-height: 75px;
+      }
+
+      #img8 {
+        max-width: 100px;
+        min-height: 75px;
+      }
+
+      #img9 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+
+      #img10 {
+        min-width:  75px;
+        max-width: 150px;
+        max-height: 75px;
+      }
+
+      #img11 {
+        min-width:  25px;
+        max-width: 225px;
+        max-height: 75px;
+      }
+
+      #img12 {
+        max-width:   75px;
+        min-height:  75px;
+        max-height: 150px;
+      }
+
+      #img13 {
+        max-width:   75px;
+        min-height:  25px;
+        max-height: 225px;
+      }
+
+      #img14 {
+        min-width:   50px;
+        max-width:  100px;
+        min-height:  75px;
+      }
+
+      #img15 {
+        min-width:   55px;
+        max-width:   75px;
+        min-height:  75px;
+      }
+
+      #img16 {
+        min-width:   75px;
+        min-height:  50px;
+        max-height: 100px;
+      }
+
+      #img17 {
+        min-width:  75px;
+        min-height: 55px;
+        max-height: 75px;
+      }
+
+      #img18 {
+        min-width:  75px;
+        max-height: 75px;
+      }
+
+      #img19 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+    </style>
+  </head>
+  <body>
+    <div>All rectangles should be the same size.</div>
+    <p><img id="img1" class="with-padding" title="Test 1" alt="FAIL" src="support/replaced-min-max-1.png"></img></p>
+    <p><img id="img2" class="with-padding" title="Test 2" alt="FAIL" src="support/replaced-min-max-2.png"></img></p>
+    <p><img id="img3" class="with-padding" title="Test 3" alt="FAIL" src="support/replaced-min-max-3.png"></img></p>
+    <p><img id="img4" class="with-padding" title="Test 4" alt="FAIL" src="support/replaced-min-max-4.png"></img></p>
+    <p><img id="img5" class="with-padding" title="Test 5" alt="FAIL" src="support/replaced-min-max-5.png"></img></p>
+    <p><img id="img6" class="with-padding" title="Test 6" alt="FAIL" src="support/replaced-min-max-6.png"></img></p>
+    <p><img id="img7" class="with-padding" title="Test 7" alt="FAIL" src="support/replaced-min-max-7.png"></img></p>
+    <p><img id="img8" class="with-padding" title="Test 8" alt="FAIL" src="support/replaced-min-max-8.png"></img></p>
+    <p><img id="img9" class="with-padding" title="Test 9" alt="FAIL" src="support/replaced-min-max-9.png"></img></p>
+    <p><img id="img10" class="with-padding" title="Test 10" alt="FAIL" src="support/replaced-min-max-10.png"></img></p>
+    <p><img id="img11" class="with-padding" title="Test 11" alt="FAIL" src="support/replaced-min-max-11.png"></img></p>
+    <p><img id="img12" class="with-padding" title="Test 12" alt="FAIL" src="support/replaced-min-max-12.png"></img></p>
+    <p><img id="img13" class="with-padding" title="Test 13" alt="FAIL" src="support/replaced-min-max-13.png"></img></p>
+    <p><img id="img14" class="with-padding" title="Test 14" alt="FAIL" src="support/replaced-min-max-14.png"></img></p>
+    <p><img id="img15" class="with-padding" title="Test 15" alt="FAIL" src="support/replaced-min-max-15.png"></img></p>
+    <p><img id="img16" class="with-padding" title="Test 16" alt="FAIL" src="support/replaced-min-max-16.png"></img></p>
+    <p><img id="img17" class="with-padding" title="Test 17" alt="FAIL" src="support/replaced-min-max-17.png"></img></p>
+    <p><img id="img18" class="with-padding" title="Test 18" alt="FAIL" src="support/replaced-min-max-18.png"></img></p>
+    <p><img id="img19" class="with-padding" title="Test 19" alt="FAIL" src="support/replaced-min-max-19.png"></img></p>
+  </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.ref.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.ref.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.ref.xht
@@ -0,0 +1,148 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+  <head>
+    <title>CSS Reference: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
+    <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
+    <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
+    <meta content="image" name="flags"></meta>
+    <!--
+      <link rel="help" href="http://www.w3.org/TR/2012/WD-css3-ui-20120117/#box-sizing">
+    -->
+    <style type="text/css">
+      p {
+        display: inline-block;
+        background-color: white;
+      }
+
+      .with-border {
+        padding: 5px 5px;
+        border: 2px solid black;
+      }
+
+      #img1 {
+        width: 61px;
+        height: 61px;
+      }
+
+      #img2 {
+        max-width:  61px;
+        min-height: 46px;
+      }
+
+      #img3 {
+        max-width:  61px;
+        min-height: 61px;
+      }
+
+      #img4 {
+        min-width:   61px;
+        max-height:  86px;
+      }
+
+      #img5 {
+        min-width:   61px;
+        max-height:  61px;
+      }
+
+      #img6 {
+        min-width:  46px;
+        max-height: 61px;
+      }
+
+      #img7 {
+        min-width:  61px;
+        max-height: 61px;
+      }
+
+      #img8 {
+        max-width: 86px;
+        min-height: 61px;
+      }
+
+      #img9 {
+        max-width:  61px;
+        min-height: 61px;
+      }
+
+      #img10 {
+        min-width:  61px;
+        max-width: 136px;
+        max-height: 61px;
+      }
+
+      #img11 {
+        min-width:  11px;
+        max-width: 211px;
+        max-height: 61px;
+      }
+
+      #img12 {
+        max-width:   61px;
+        min-height:  61px;
+        max-height: 136px;
+      }
+
+      #img13 {
+        max-width:   61px;
+        min-height:  11px;
+        max-height: 211px;
+      }
+
+      #img14 {
+        min-width:   36px;
+        max-width:   86px;
+        min-height:  61px;
+      }
+
+      #img15 {
+        min-width:   41px;
+        max-width:   61px;
+        min-height:  61px;
+      }
+
+      #img16 {
+        min-width:   61px;
+        min-height:  36px;
+        max-height:  86px;
+      }
+
+      #img17 {
+        min-width:  61px;
+        min-height: 41px;
+        max-height: 61px;
+      }
+
+      #img18 {
+        min-width:  61px;
+        max-height: 61px;
+      }
+
+      #img19 {
+        max-width:  61px;
+        min-height: 61px;
+      }
+    </style>
+  </head>
+  <body>
+    <div>All rectangles should be the same size.</div>
+    <p><img id="img1" class="with-border" title="Test 1" alt="FAIL" src="support/replaced-min-max-1.png"></img></p>
+    <p><img id="img2" class="with-border" title="Test 2" alt="FAIL" src="support/replaced-min-max-2.png"></img></p>
+    <p><img id="img3" class="with-border" title="Test 3" alt="FAIL" src="support/replaced-min-max-3.png"></img></p>
+    <p><img id="img4" class="with-border" title="Test 4" alt="FAIL" src="support/replaced-min-max-4.png"></img></p>
+    <p><img id="img5" class="with-border" title="Test 5" alt="FAIL" src="support/replaced-min-max-5.png"></img></p>
+    <p><img id="img6" class="with-border" title="Test 6" alt="FAIL" src="support/replaced-min-max-6.png"></img></p>
+    <p><img id="img7" class="with-border" title="Test 7" alt="FAIL" src="support/replaced-min-max-7.png"></img></p>
+    <p><img id="img8" class="with-border" title="Test 8" alt="FAIL" src="support/replaced-min-max-8.png"></img></p>
+    <p><img id="img9" class="with-border" title="Test 9" alt="FAIL" src="support/replaced-min-max-9.png"></img></p>
+    <p><img id="img10" class="with-border" title="Test 10" alt="FAIL" src="support/replaced-min-max-10.png"></img></p>
+    <p><img id="img11" class="with-border" title="Test 11" alt="FAIL" src="support/replaced-min-max-11.png"></img></p>
+    <p><img id="img12" class="with-border" title="Test 12" alt="FAIL" src="support/replaced-min-max-12.png"></img></p>
+    <p><img id="img13" class="with-border" title="Test 13" alt="FAIL" src="support/replaced-min-max-13.png"></img></p>
+    <p><img id="img14" class="with-border" title="Test 14" alt="FAIL" src="support/replaced-min-max-14.png"></img></p>
+    <p><img id="img15" class="with-border" title="Test 15" alt="FAIL" src="support/replaced-min-max-15.png"></img></p>
+    <p><img id="img16" class="with-border" title="Test 16" alt="FAIL" src="support/replaced-min-max-16.png"></img></p>
+    <p><img id="img17" class="with-border" title="Test 17" alt="FAIL" src="support/replaced-min-max-17.png"></img></p>
+    <p><img id="img18" class="with-border" title="Test 18" alt="FAIL" src="support/replaced-min-max-18.png"></img></p>
+    <p><img id="img19" class="with-border" title="Test 19" alt="FAIL" src="support/replaced-min-max-19.png"></img></p>
+  </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht
@@ -0,0 +1,149 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml">
+  <head>
+    <title>CSS Test: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
+    <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
+    <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
+    <meta content="image" name="flags"></meta>
+    <!--
+      <link rel="help" href="http://www.w3.org/TR/2012/WD-css3-ui-20120117/#box-sizing">
+    -->
+    <style type="text/css">
+      p {
+        display: inline-block;
+        background-color: white;
+      }
+
+      .with-border {
+        padding: 5px 5px;
+        border: 2px solid black;
+        -moz-box-sizing: border-box;
+      }
+
+      #img1 {
+        width: 75px;
+        height: 75px;
+      }
+
+      #img2 {
+        max-width:  75px;
+        min-height: 60px;
+      }
+
+      #img3 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+
+      #img4 {
+        min-width:   75px;
+        max-height: 100px;
+      }
+
+      #img5 {
+        min-width:   75px;
+        max-height:  75px;
+      }
+
+      #img6 {
+        min-width:  60px;
+        max-height: 75px;
+      }
+
+      #img7 {
+        min-width:  75px;
+        max-height: 75px;
+      }
+
+      #img8 {
+        max-width: 100px;
+        min-height: 75px;
+      }
+
+      #img9 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+
+      #img10 {
+        min-width:  75px;
+        max-width: 150px;
+        max-height: 75px;
+      }
+
+      #img11 {
+        min-width:  25px;
+        max-width: 225px;
+        max-height: 75px;
+      }
+
+      #img12 {
+        max-width:   75px;
+        min-height:  75px;
+        max-height: 150px;
+      }
+
+      #img13 {
+        max-width:   75px;
+        min-height:  25px;
+        max-height: 225px;
+      }
+
+      #img14 {
+        min-width:   50px;
+        max-width:  100px;
+        min-height:  75px;
+      }
+
+      #img15 {
+        min-width:   55px;
+        max-width:   75px;
+        min-height:  75px;
+      }
+
+      #img16 {
+        min-width:   75px;
+        min-height:  50px;
+        max-height: 100px;
+      }
+
+      #img17 {
+        min-width:  75px;
+        min-height: 55px;
+        max-height: 75px;
+      }
+
+      #img18 {
+        min-width:  75px;
+        max-height: 75px;
+      }
+
+      #img19 {
+        max-width:  75px;
+        min-height: 75px;
+      }
+    </style>
+  </head>
+  <body>
+    <div>All rectangles should be the same size.</div>
+    <p><img id="img1" class="with-border" title="Test 1" alt="FAIL" src="support/replaced-min-max-1.png"></img></p>
+    <p><img id="img2" class="with-border" title="Test 2" alt="FAIL" src="support/replaced-min-max-2.png"></img></p>
+    <p><img id="img3" class="with-border" title="Test 3" alt="FAIL" src="support/replaced-min-max-3.png"></img></p>
+    <p><img id="img4" class="with-border" title="Test 4" alt="FAIL" src="support/replaced-min-max-4.png"></img></p>
+    <p><img id="img5" class="with-border" title="Test 5" alt="FAIL" src="support/replaced-min-max-5.png"></img></p>
+    <p><img id="img6" class="with-border" title="Test 6" alt="FAIL" src="support/replaced-min-max-6.png"></img></p>
+    <p><img id="img7" class="with-border" title="Test 7" alt="FAIL" src="support/replaced-min-max-7.png"></img></p>
+    <p><img id="img8" class="with-border" title="Test 8" alt="FAIL" src="support/replaced-min-max-8.png"></img></p>
+    <p><img id="img9" class="with-border" title="Test 9" alt="FAIL" src="support/replaced-min-max-9.png"></img></p>
+    <p><img id="img10" class="with-border" title="Test 10" alt="FAIL" src="support/replaced-min-max-10.png"></img></p>
+    <p><img id="img11" class="with-border" title="Test 11" alt="FAIL" src="support/replaced-min-max-11.png"></img></p>
+    <p><img id="img12" class="with-border" title="Test 12" alt="FAIL" src="support/replaced-min-max-12.png"></img></p>
+    <p><img id="img13" class="with-border" title="Test 13" alt="FAIL" src="support/replaced-min-max-13.png"></img></p>
+    <p><img id="img14" class="with-border" title="Test 14" alt="FAIL" src="support/replaced-min-max-14.png"></img></p>
+    <p><img id="img15" class="with-border" title="Test 15" alt="FAIL" src="support/replaced-min-max-15.png"></img></p>
+    <p><img id="img16" class="with-border" title="Test 16" alt="FAIL" src="support/replaced-min-max-16.png"></img></p>
+    <p><img id="img17" class="with-border" title="Test 17" alt="FAIL" src="support/replaced-min-max-17.png"></img></p>
+    <p><img id="img18" class="with-border" title="Test 18" alt="FAIL" src="support/replaced-min-max-18.png"></img></p>
+    <p><img id="img19" class="with-border" title="Test 19" alt="FAIL" src="support/replaced-min-max-19.png"></img></p>
+  </body>
+</html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/reftest.list b/layout/reftests/w3c-css/submitted/ui3/reftest.list
new file mode 100644
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/ui3/reftest.list
@@ -0,0 +1,12 @@
+== box-sizing-border-box-001.xht box-sizing-border-box-001.ref.xht
+== box-sizing-border-box-002.xht box-sizing-border-box-002.ref.xht
+== box-sizing-border-box-003.xht box-sizing-border-box-003.ref.xht
+== box-sizing-border-box-004.xht box-sizing-border-box-004.ref.xht
+== box-sizing-content-box-001.xht box-sizing-content-box-001.ref.xht
+== box-sizing-content-box-002.xht box-sizing-content-box-002.ref.xht
+== box-sizing-content-box-003.xht box-sizing-content-box-003.ref.xht
+== box-sizing-padding-box-001.xht box-sizing-padding-box-001.ref.xht
+== box-sizing-padding-box-002.xht box-sizing-padding-box-002.ref.xht
+== box-sizing-padding-box-003.xht box-sizing-padding-box-003.ref.xht
+== box-sizing-replaced-001.xht box-sizing-replaced-001.ref.xht
+== box-sizing-replaced-002.xht box-sizing-replaced-002.ref.xht
diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-1.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-1.png
new file mode 100644
index 0000000000000000000000000000000000000000..6e4ec9538fed58cd96c6b2adc1849783c4dbde0c
GIT binary patch
literal 1083
zc$|e)O^D865FhP@UBYD#Tt*_7x8B`W*n^$rU3Md+rM0C-%lb+-Hu9C>#=*x)l#CK-
zaoN_vY05z>(UL_;a}|nk5Zi0!DQ8bT|L6Zs&&>Qj=Kr4Cv|;V6#(9kZFsrA#wmHsq
zxu-Y8bM~e4Zvh%$)B4`7_$g&eIi$Q<toL^N=~qHv1VK;)LvREjKmsCQ0wGWWBX9y>
zKn7x924PSJV{p#OC_n;STBv{tc=S?01yW!IQBVa_a0M_x12SL(F;D|Da075a2XbHs
zaZm?ya1YFZG2le!XcF}zHEtzJL?R?c5+p@3Brnh-9E*vBNQsQd3m@c+GLtYVlQDTA
ziIP`YNQ6|#guF0E&3sl8B~>ydFLIz|Q8p4IH8LYF8lh(=b`mFbGAB>rLft4Anx*)f
zq=R3ohM2t>MNkyQP`pTq2|O?coah`)qF(BYoG6(^Sd_(Byoio@F=Dwi%oXwC1ZwhO
z&8VuFiWhs(k|bMRRf}N|FP@<%bN0+v7jyA6GUg)ah1+o{JPf<SnRF2`wP4JOie_kD
zti_Z()Xg@U@`MuUH*%`RoV}IJ*t`q@CdFWrfHdJm=bQ}G)R#3;s+y^J85hiwk)6;Z
zT>t%5^;U4N$FS6)UXFTsi`DnCtrme9L*3gB$Jt%>n(_TBGk9dEbN9b52L^0nPrU5w
zsde`DJ^u2hr4bg)Sv~Q-UR&|u;nqiIrY$_#H2>R~88eskJbZI%`^4S;%8UE`BTG*l
ze|B&3^T)YOO`o>x@3?v4%GBxR52K5}?;GnMz4PS9`1N<M7B)9ej%@vO<6?baaBOhn
z#jCHcP3g~RV<W%*+&Fr(Bf2gc?&=#JIJ9fW@UF_vctC5lrCO;jt+XufZEbCDYiVy?
pQK>F#uU0SbKJfWp!hwT3_YNNWPr~!b`SEW6(9^Y{_FxsC{R{3TuVerK

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-10.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-10.png
new file mode 100644
index 0000000000000000000000000000000000000000..bfdca3e6f35ac49120a0c275a7e963e384cbe68c
GIT binary patch
literal 1775
zc%02sOK6={5FTlReNa=nh*}>R5w#@=-o(^sYU`vVnt+5-vbYs0Q*4b7BvFI0MR06Q
zTNjGpPB&ALF62@p(oHF3s?bu=g)V9<7ac)G6ty5WLLb+eLt8|R?xg2%&VT;l%*^+F
zGw0>?!}l*)w0sc&EEyW?-vDq$d#uR?^TM*?hh5JA%!Bn0j10uDlqKaO<zzAHw(p};
zgun=bpa_QG2ta@YM8E_>pae$X1i*j{#J~)~pbW;~oRLw01h}M70Tb}ZrGN^gzzU+E
z3Z~!+V1Nc>zy@NV24>&};D8R~zz*V|4(8w<m;+<LiOi8C;)QG6N|cC1NQ@*%ieyM$
zpocjI6A6(L8Ic!0$Z2IJVNxbz@<I|Nud<K`sgMbIVUC*qtRzaRWJ+G-K+B+PBt~jv
zMqV^R&rIwjPU>V%p2CH?5iT@K@ij>Yzf=t|b2EydD2kzYkrESlU<^2sIg&)Y)E7BX
zGK;V%i?MhS9rI$?a%dD+#7iYmlMicJRmD`ilm{(IvgK8^Xa@08GxTK6p8o1$E}n&q
zz6g3z?YI;*jB-U~vWkeQ1!G23G(+=JT1?49-Atn?PbiV~Mo!h3Gq<uCo0lfQq!?@x
zkS3hSoSlK1`m!cURWmg&?SdIHyc2qu8)r_bz8%~f(JT#Ulux6aVpKot?hnJl@xhJp
zCSb6v`;I-aHjU4Y_l;hBIq=rx>C^FQZXD|G8+q=FpX%?u@*ypq-}hbXr@LqO*N?n-
z&9d5^pI`gV$9GI@y7%0<kzWq<{QS_^*+;9lpO|V|eEj*VTiUC?ZmLf6CzG2G?^yNK
zn&syooL)Eg{PO(|ZupDKg*df0r-ygVwA7Z)IbWNtjqm=aq*F~l-dcP8>vx;l=3jQR
z`^?z4x1IIv0X$GQUzN}~KsV>%)#>A{jeR^d_dGN@wYoi+9^O74+Z$IdZmDg{!{kc`
z&i~%?Z-l>D(^e04La&`WW4kBi%EO_XYrh?xSy{d5vYUHPzR))F)ZdHyf3(L1wJxRm
zQ-p(~v#s^fJqM5S!t3Js+%hpxop|`^t(zydc5I0ax+<NOj>@Wz&bvmsx_Y}idpqy$
osPyz!Dy`o?-h9#F$+0buJ+kdT9BAY9tHS|?28R3huj3tm0LCGEF8}}l

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-11.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-11.png
new file mode 100644
index 0000000000000000000000000000000000000000..38ee90dda0fcc589c4901753744c19878192a381
GIT binary patch
literal 1357
zc$}S6ZD^Kd6h5(t{1~G@eIlKH41yTG@2imvnP+QrTiP@kF*VlFw2-h#j%eZN5cDw$
zv0pI?IzbpjAFMJVm>%d`45v~*R^Wj`24iJy6e_aLx!vfe(1GW<pXWUHIoEZr>wZQy
z_jJ}Ty?rSF)OUBaZ;AC%UN_do{dn#D27o%)ys@_<UZq@87Aa2_@rxZkae)vRK@b$d
z5F7yrkbnr7KnRq;2%G>IkbxMOK^T<57@V^+3XlL72o*2^4=e>#AO%(s1ywKwR{#Sv
zAOkiK12r%MHvk88AP0632X!z9_uw2HgH9j^Nc4-+*p)01iI5mckQB*~yikvH1QQ97
z5*d+~d5|;9Ov0p0#^hy4l-$ZfBBVkl<YjWytY;-rQYBOJA_rPFWg{_CBQx@%5qcuA
zlQ^l9Ie7{f>PEZJEXCIxI_68&5EGkG1VvE{#fy}f#Dind3FH8YeyJ~VvSb!vQ5IwI
zB0A>A$Yp4lE8@io)SQPkv#Me$UhF~3A=z@PS{w%P;u(5Q&Ytz^VlJLW#<_^`!tK};
z9)?}vOuC4eS}<luMKd%n)?!K?>L!e)JfTGTjhw16C$_Q~o0mg?Ibuwcgf!^{a-Iy-
z)R#3`s+y^JIWCwjqdKWadj9eS)puj|`8X`|FkhDW@)Xf`W_5ccmh9`=x<A&ga;^XV
z$(Bq$v#<4u#Xko&y>hS>;JO3d?XA7fPR{&1R{v#XIkf(<?xAlsyfL}uuA44iK2txm
zVh5d?ot~YZIePSmxBfi&$g&kzV|e6P%Wsdit$e9}`S`8Rjn#(Fzdp3{hD)CvnK)hI
z%A4Dl#E0tK&Z)0Y%#C)QAGvMn>`!f-CH@(Bsxd!Iy!y^9_b;@lUNbRPyYkhquYG#x
z=(z=q)88IxJwE=|_~NDyHa6V($<#ueoz!#v7yB1mJbd`&hOL8FV{XshiGhy~to(lz
z>JE*rnt1QS7Y~;B{lV!6{=+!6wzlacz5V&k%_Y8ge*Zm-#eJhKv)`?))(uZ?TVQy{
zs$=U%H~hWk$Htj3q;asLZ}73FckdY7-LxxiP^(lcO_h6_s%v^{wdU2;=32bo*IcPw
iKY#bS#e%&9yY@Ujbd7@TJ^jm~0J=MR+COUJ7ybpkLp?+Q

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-12.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-12.png
new file mode 100644
index 0000000000000000000000000000000000000000..87433d4d7b98e24a730a1e3c5538d62442ed4847
GIT binary patch
literal 1744
zc$~#kVQAK65Wied8e-6gKqL;LK9qxZLoo-%Ew<XAL~5h?K|7}_Bw}+LWsU5p4{1sf
zMUm0C#QYM~mmoEDXO!Vgf*?qF*{&dCM4JS%$mZMK6Dz29^eKGcd7uA#|L5-ayWj8r
zyVtL~cj=PlO8{VLXGhxu09QR3d*!ta5n1+7!><4hu>QWT_V_DhOF5)GS*)rZ9KS#a
zj35Y#U<i%?1V}&xOdteGU<6J849GwX%peTPU<}S#83jmy3xo=ofCrWWDv$yzh=MAZ
zf-8Ul8jt}Sh=CfIfg6AWI*<c9h=V$qgL`lejzK4o10?E2YTQbeh(t(?BuI*6NM5K%
zI2IELkrEk^mwu2l%1pwfOvdD;NtC?GLL#I>Cgi1a)XZlkQBoyS@*)RX7G)zbQX@0+
zq7ix`v6DEdlR0?`7wSg2&@9E*Y&!Z&)esY#Q3OR%48@C-n8br)&<W%KiF&Coa<XI=
zVNn)i@gh3r#fat7FjvHj6R6n_YerSYRJ_=OmQAwdRkauf@!}bJcFvyp>S8XQM#fx3
zd*OCm3J=4sa3)<uOf49*qM{j^7i%#k4|NkpQ=U*F{YFmJm=jysjLpjsV73_DBq2>Y
zft-_pn)<RPOI0&9FXMt)GP09;glm^Bs2+&kYcVV}sFkBuo?`WUy{at&iw8P348_?|
z_C2Q_yDNiF475Hv|K-5j+h5!Wu&CDA*4nk>+|Sjfmlm~Ne|78S+WwJ=vpcTa``Y`X
z9XBrSeqrs&<C|vYj?JF_aO|U<-~8myo;f;j{<i7r;r=7_&Q~s-*zojCv$sy)Uw!M)
zn(h7HPkeT4_s9)@29EAo{obLWACFIc`evPTY<$jF-ud$U<$q*Pe7>){dU$AZ_`5Ib
zoDcu7bKv#SFaC!57xw=iIQY(F-{{%PGn>EKTle*=(-#}xIJrQvncm4QbHCg^yR2^c
zsRJX=oPKu!>{Fk7JKHn%`}o}Rb?LQCZJHe1b|nP)E3o{xjpr|35#wii&n!Hu)&9ZS
zH4jegI?}su#mDh|+%nwWGrVQ6Z}V_p<JS0r=1Nngv9h|c>5i`E=9X1WEzM1hl{GDu
k%Klw9@0m|{ynpMqN1pnRgt@idW03%z?d#e;xSOB*0|*>Q<p2Nx

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-13.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-13.png
new file mode 100644
index 0000000000000000000000000000000000000000..c07d66e7881f814ac1fa35a1dffe178b88805740
GIT binary patch
literal 1357
zc$}S6ZD^Kd6h1MCG{@+VeIcEK{fgncS0fv;&erC(G-onmR;;6GAz_mo(ZbOo=wlRO
z^dm+=CkTV+gH<*NrU&|#g_}}8R^Wj`24iJy6e_aLx!vfe(1H88pZ7fXIoEZr>wbr~
zZSAOCdDBV&sO{=(+aCLcT-VgZ^LX|BI)ED3wxy>%eo9$VHYslw@rxZfagGoeK@b$d
z5F7yrkbnr7KnRq;2%G>IkbxMOK^T<57@V^+3XlL72o*2^4=e>#AO%(s1ywKwR{#Sv
zAOkiK12r%MHvk88AP0632X!z9_uw2HgH9j^Nc4-+IF&3BiI5mckQB*~yikvH1QQ97
z5*d+~d5|;9Ov0p0#^hy4lsw8pBBVkl<YjWytY;-rQYBOJA_rPFWg{_CBQx@%5qcuA
zlQ^l9Ie7{f>PEZJEXCIxI_68&5EGkG1VvE{#fy}f#Dind3FH8YeyJ~VvSb!vQ5IwI
zB0A>5$Yp4lE8@io)SQPkv#Me$UhF~3A=&b%T3iP4;u(5Q&Ytz^VlJLW#=VH~!tFQ|
z9)?}vOuC4eS}<luMKd%n)?!K?>L!e)JfTGTjhw16C$_Q~o0m&~Ibuwcgf!^{a^4Ko
z)R#3`s+y^Jxh|M3qdKWadhy~p)puj|#keesuvoUm@)ps1YJFQIR_yQGaUk~2vNnDH
zL~|ye-rw^0@;?W<Up~|VaMi)Cww9h}rssYht^KmH3R?cS`~Gh>zcIc2*6Yq+JXJfm
zW+$DTpPiqb8yoxKtv@FozIM&!7#cp-{M#d~YhUbJHGadhqt&6auMO_H`od>NC#OnW
zdh?+b@u6{H*UZ-^7DhVG4&OL)`lr^8694o+S)U&!UwP;HdzM->UNJFRz4X<uuYP)X
z?939z)VD`lj*tH}zI^C|Ep@kiGP4w?r}a$V`M%{A4;*=^ZpXmoSlGL7vj5|QYyTgG
zn!_XOCg1z;g+nENzi;;5|1eH&taeY(+n=v)D)Gg02X0?3?j32K|88Sr&Cv9NOAK#b
zcWl$h=D#=mSU(qr)DN`x4m|qQo}B}G8g|D6s+Gn{L*<T!#tl8yYSa40rfRjJa%WSe
j@;cwOdbwa<|L(ny4PK#OVygSLD1ff^t!*E*^7H=!!{<I6

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-14.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-14.png
new file mode 100644
index 0000000000000000000000000000000000000000..e89dbe975864415755ff116815ab121d4d742f0d
GIT binary patch
literal 1018
zc$|e(KS<Y65dVlEWlGQz1;H(W4Z_b~Md47V{7i)q3kTaS(jr5WvY@8JDTmftuLy^R
zpr+c6hA5Y!siEO$YYU>O;n&>*=N`Q8d%xq|-RIB!wig#>M~9CN0~np3>s`+CNbP-t
z`Tc$7-X&lVix-z>@~5_~?a+4fT;F|X_ZJg{padg0AqZd)gBik5hB2HG3<yZT0uiXd
z1TF}v%A{b0v=*jtMPx4n8Q35OHJHH-VSs}i>=1`K%;Ao3AV2{QNI(M?@IXXjPK*gB
zJ7<%um#O)xP!cf{3$YR#u@gswp5a`=tjxyj%+dIeR8)jj*o0j;8cEW6D$1&C%B~!Z
zIa%e4u^OAP8%L9ayo!pmI-9dQN7IO+I!UkwTd)U5376_-xzw!0w<4YVN;RVDEu>0n
zq)r-5N-E%qG2vwAY?Ad#Uy?#8qAF^lE*edAs)re?WofQzG$+W4k61;`)J>z=LtZ4s
z>#2DTgGTd=qL@omzJ+>dl#w|XNiW^bN9keOmClrlM5TpLRWx!Zk7g~E<f(48v63g1
zD8ETcHIeFV;w~O-2&gC~n*wA7Cp*_<kd?k-h0@I3JleQWmCWpdp5gxAUuG|odq0Pz
zkA6G)?Url#>#1G__HWExxtr%)+ZR6FI#<E_8&fy-{yBJgV0Jn$C+2%oOJkp}$+v+m
z(hpmm*8@Wje?EIU@_y#y?)IO9>wmtS9~l}u2E1E){OHZwLq9U<_~y*==CwPkS2tJ3
zSMq~yXQDISIXymccB$K)JT)=dJvrVvGui2!KHPo2m#}_&<>vJV|4CTe={?B=%+D<J
IUQNr^KP6^_=>Px#

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-15.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-15.png
new file mode 100644
index 0000000000000000000000000000000000000000..717ea111b6f06c2a208e9f417a51b30b8dcccd0f
GIT binary patch
literal 1025
zc$|e(J!sTX4F8obTJ2sdl`L)^UXO~UgQR-ZRzyS!)-9#2B2p|`3OWS`LBYkr$svO%
zE`A|6noZQLASgJ*!A+sN!<jtj?1T4z@4`#+`^eqDaQ@8b$oL3=(S`Z`#XNht59}Gv
zZ~wu=EnpZI&MnU6Pi<S<q3!0me)zM`J4_IQ5{%%4Ab>#(W(Y$W#&AY3ARqw?M4$o_
zxFDn|lY$k}TA0EWk-ZFLV1pRcU<NmY0S<DoLmcWbhdaW700lT80S#Ed0}+WiF(#bs
zoK3P`rsk_cNyJPn#7b<$P8<z-hI0wCG8?lqN8>|MQ4v;Q6L#TfBuVS3D66t5yK*$<
zWR)+*YHY@C98C`LDk{$EY|ic+O(TlxB*7YN!5$nXT&kPpQnM1@igfZT)rhLMkSeK>
zI%za1semWOgp-}KN!BZUNeZQis;G&&Xf)BO9%ihTrMarnoFFScVih%0H;rZwd65*a
zr{*~f8qG6`VlGkn7V4o<M&?{3y>vStrH5%(I#VtZl@>x((a4=VnzdAtr@Ga~N}g1r
z{3a>YM5?!myLhxAprV*;3Xm0?>|B#UR{Dw+N;7x!XyZavGP4VMh6jIl%$_FqK@Q6R
zgLVwsE!WcaR6hfIH|8(j%5%Q$)1R)NsNmMd?A6_W4nE4;_j&0q^k)~RzpRLSdoz4*
z86U<T(HmW!{@#1?PWDaw9(gfw^wihKKcB8m|2n(9K7`Td2M_%jTpG{Z!<%zUn=3ch
zmN(ZrtNB5%JK61Yk98)e7kj;#smYn%RHu7<rrX_lz5mE=!upNXYgcanC*jr5ov}>7
M!rb}(%ad~VANawDng9R*

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-16.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-16.png
new file mode 100644
index 0000000000000000000000000000000000000000..0a49bbf1c33b343eec3dd73687bd749131ab2784
GIT binary patch
literal 1018
zc$|e(J7|?r4E{>NM{N<@6of279WLBnT9ghNOKV$@Ql&`UB5f5F@l^$#LMI)Zb&Mbm
zB7#o31qUBp6ekCV;O174P7c@PKxYq}|C}36lJAlGXmMe7Wa!WkfRXvR>2rA=ti5M2
zzkiP1JqrwC@yyap{?xX$9olZ5>!-ii++u<dlwbrW1OW_UFhdy1ForXN0RahEAOaPb
zzy%>ynG~#$*1{C7i0ow`0~^Gk1~a%J3~-Qx9pX@jIouHr1Sr4(3249q9*9WHi80}1
z=WLSoGBsZnN+M=rAy#4|cH(HzGn`A9mD!k`IT|05ii)rbo3IN<BS~6MMOl?i*_ER)
zC#!rhR%0`E<7je_S5a|RXLEMvXc|#eCkfVI3-;hB;Zof!mztIMR-}_(sYX=2g;Yt6
z)JdaBNd-JHCY<b?O|o9;OHwFBR7FkHMWcyM^)O?#EX`Go<^);s5v!<~x@k0f$cv<S
zJvGl^&}g1f6myBnw@?p_GBW2P>80EGC_PNO(wTCRsI(BOibn3_(X6GCJk_l>R`R40
z<u^&GCQ`jk+{L2}0Tsn$Q-G}CWapX;veH+qP@1`$M;jNal9^r5Gu;2XW%fL|_j6eK
z=(nTaZn>7fk56Y{@6EXjck-NT`}CJ<Cn|XF=Bdj&{~WyBH#?P=qw~|JmPWs>$d7>y
z(vKV6Hv_vK{C@Ui_`}TS%}3k&uWx@lIlOE1F!28B<A-nG9r%?=N7iSS*H><@U0h%5
ztmX&3?pU|eo#>1mU+VQH$Hyjn6P@m{$!_=jr`=C?60YA^y>jXPe-ifIyY(s)Fh8>}
J{d!6^{sBlhg*yNM

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-17.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-17.png
new file mode 100644
index 0000000000000000000000000000000000000000..a2ee273d798d83b92ea4c32515746d59f7a2f077
GIT binary patch
literal 1026
zc$|e(J!sTX4F5?Hwb)rylz=$N;obRFI%q1bwji}gkqQp+vxr!W7C~G>CtVx`mlCiz
ziqy?1lTf>fgF}b7IXF1ED4fZI&OUhm_b$97zmMFD*_n$Y!v}@|j7(2WT*-5P?*8tf
z{H|WtHDCy{m*yt(r?#!_(021&TmJU*FD3{<2}W>25WpY?GlZcGV>lxi5RiZcB2a+|
zTo6)~Nx=$fEllBx$X*6Aut5xJFoPSy00%kPAr5tz!yVy3fC3zlfCen!fr!MM7!yu*
z&L&weQ}b1!Bw{8OVkI_WCyoX^!?}c6nT^?*qwyiBs0gdD3A=DKlBD%ilvUZ3T{#+a
zvdR}@H8x{6jwT0r6%}W7HfMK^rV&MTl3)$CU=NNGF4fI)sac6{MLPMFYDCprNR`w`
zoiv)1RKOEs!pY9rB<q#FB!yB$Rn$aXG@9sC4>MNF(p=SOPLLHJv5K0hn?|#Tyhw`I
zQ}Y}Kjpi9eF_)-(3-!<_BXcg2Ub>x+(!;bXohcWIN(-T?Xyi^F%~~qSQ{8G~B~L0*
zev_1HBGuc(T|C+lP*F@a1;`3ccCN`FD}BWZrJ1{Vv~i&-nb`$B!-GG+%+`|oActju
zK|2QRmTUgY$%zc?S(>``IM1oJFKpaDTfrww;|tsW9Be)Ncq}iy>51{V(al@(ZO01f
zr<>mSFtpE)oY?xgf3g3(JAU=$fyE#FH^29ud;R^@<&F2d5bFmI|K0q$p2<g-C+C-M
zJ-Tya`A+9{e$emsx}EN+PH%Ls-yb{K8|$C$bkB@+y9>t;?c7dy@bLD%yHEd<FuHob
PmkF4joSArcURM4A81ISs

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-18.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-18.png
new file mode 100644
index 0000000000000000000000000000000000000000..d18f4534179e40597bfabce7ad83a7c42ceddbc6
GIT binary patch
literal 1073
zc$|e(O-Pkd5FJSRkt8E1uth`ErjVYG$`Fb%pQT_T;lhYwA~hnTC<~;bK`e-%--WxH
zMYO6Q!FIt!oBmd9+C<Ev2%*r5RxMsL7g~4We)qoN&YUyn%)2(wzqhHer4ay{dV6a7
z<E+LWUb-m0zqa2!4zLIY`Ubn>r<5(_kaDwFAMN3r1wvp1K~Mxka0DPg0wQ1nAy5J%
zZ~|aJ24Y|aVNeERaL&poKmuGKRKNs0uoO^%6j(tNRKXNn0SwT94A?*n)W8hf036VP
z9N0k|)WICwgL7~UI)NM@Q7=;CRkB1RLSiIAQY1t2LOsH<m`I3}$cVi3gPc)j5+-Fb
zCNE8*<Wm+BAr&$qFP)=iJ}ZfmDw&cOInc5w8;Ow`nUNQb&=ZNB#7UjZ$y2ycH_C-(
zDZXaY(O;^DnAnUWD2iezUZlh%9vp*CAO}d)OMQ`(C9?>NvKWgO(J>!JESHA4B3_(8
z&3;%jsw$@9#U8Y5k}aRA#W08$&(O1T_RLoobMZ7X<|5h)x8qTG7<Pp-=^|ok!I%{l
z&CtA9iz#`in=qR4gc9jDa;nCh*ve*XUWNd(#pospY0?SgoD9^|mo-_cnyGmi7tE58
zozx>-|FfX_AbPLIu+*Vmj(WMp8hXFA7J+4_dk&n9v#0DmuTSjC;Q7;?$Nv3u;LwlR
z<#FNOTIb-<%kLlB8lkeZp|f6Je}8(@q2_(FzWDuA-`ORTD{oKC@BDp`dvC0m=B{UJ
zMqj<XaJy&2rJpTL^EbatbvBQ^TGz04=6R*-@Tcpw^>eGfRc9_<esOhd%ez}&Kf}F8
zW9Lq6zVkS+HjZ}>jUPQTa%6m@bvQmyt+Z8IE8AMzb_`al9b4Nvs_m_n_Kr&B#n9@f
d{}N7~8a_Tc@t=fyb9^Ndptrlf_GC9t{sjoup{4);

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-19.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-19.png
new file mode 100644
index 0000000000000000000000000000000000000000..8900f36c41cdb1eb31fe409670f6e6bfbaf6ac9d
GIT binary patch
literal 1074
zc$|e(IcSto5FS)K;z8`hLMEc+%I*@01eMwFuO=u#Bt-;^5pyVsctyc(5D^s-dku~d
z1TDl;yAc%+1VIHGiz!444^n7lV4Zo8+6V8we}^|S-!Xgj!0_I+T^qXqVC~RgbujL+
z*v*wo<DC6|<2t}nIIw@D9Y3XPDVLNli}l&=y_qKjMi2x=Fa$>c0wf>;CJ+K8Fajq4
z24o-xW)KEtFb3zWi~=OUrG*NZfJZL{R3HUb5Cv5*1y=wAG#~>u5Cb(Z12+H%bRY+I
z5C?TI2lv1n7z0jpjwVqrQsY&kL?l9DBtcRnL-GPW!m*f0h?K~PyzoKJC^HF@G8vN>
zk|_C<g+xe&Ovnp!)XZlkQBoyS@*)RX7G)zbQX@0+q7iy_VkdD@Cv)-?F4T>3p;?Nr
zNjmtYYKYmJQ3OR%48@C-n7{*Lz=_V$B<iKU$cd6!ghg45#f#{e4<nXK!(0(BPM{_q
z){Lr(sd%vmElINFQ?(cd@!}bJGH1_xbukxDBV#UtUbr2P!o#pDoJkiEQwzqdsAz`f
z#ac|sL)~nnDNiVoej}%9%-LJnjLpjsU{VY=2}l!8bk4~@O?_DtrK*{lmvO-?8QBRv
z!kxeKs&m1;6T{MhPPsbeE7s`y-YNpCP7NM98~0$@dtOiN&fxh|t;xlI4otnA>y3{i
zLse^J^x4l(jV{17%bqTD+PmL<yub5Od+fv9`W3(E(Syl9Z+CtBdbsD+lFO|hTdu9n
zV_#K$S^wqtlfiAbZ?$ed?tVVJc|*i6wySDWYvE3Hy64Jl9IyIjr<dQHKKEi^T_c)p
zooSEG96d9BWM;fJ76&xzje4!Vz1G+<(rotkHu{@8YW2SUdcCiEVstU##L2Pa6BquI
TaO`gPbR@t~d$@Wyz!(1k$l9P0

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-2.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-2.png
new file mode 100644
index 0000000000000000000000000000000000000000..58338097fe2380226db6946a2fd399e0b9f86a66
GIT binary patch
literal 1175
zc$|e(Uuc$P6hAr1>8A-ogY4!g1VRqK&55xKI~!YWu|#6Z>&-aBO>r`kTw{U7S>;8n
zn}Q0uIzkH3h%X{`B^(#YQl_Je6d81gE&`d@AA<<`I_D9gyB>Jn=Y0>)Iln*Wyzd@9
zba2b2?VA8#%iuuY%W-~`yR{{rwI63!09xSi&~SfzO4(8lDQ^~Q)h=DTPY8@42#R0`
zjsOHmKm<%61WI58P5=zZKn%<v49Z{(&RH1+NPr833YdTgmI5k}0xO7uDwu*RfB_ni
z0UL;c8km6_fCD;^13QR=I+%lda1M?^Cy)aq>P2eYN|uO3NQ@*%ieyM$s7E*!6A6(L
z8Icz~$QflOVNxbz@*)x?ud<K`sgMbIQI4AVtRzaRWJ+G_K+B?RBt~jvMqWHZPb78{
zCv`F>PvgSfC>Nfk`I@3bU%G~v*o-15iee~Uti&W99D`0E2T0UQf02_Vvj~f_7>gIv
zF)v0emqv3%ymSIJ^{{4CRZPW8d(cuOTV7R*VGu7pLr>-GnXfM9;@QZUi;x%Hj!V(Q
zXjgP5yNH-xFlI$XGc+%)#k4%!O&Cpk!inrRa=ONx*ve*XUWNcuVyH<%nsfp=Cj&M8
zWlff<W@=u>1+!#iC-n$7|GuyKX=rc8ur#4rj%Im_Rej&p7lDmu29BMLbD-=OzB_#&
zgVSevPCoi`;IBW&ugA;P!M>j1nLBH@cRXSB&FioH)9in9<l=9-Yk6@0+|bUgolC!;
zTfQ|h^4h(%x6dEB`pHtGai_YlVO{O>_x8O%I{NjOy<69}9ewKb&TkeMUu><_p53u~
z_xwAJMq}IJ;>7W_bC0j>8CkBX$@#N$3o8qcRn_xfJ<Pbf`cwNKlhF3V&H0s<*(lw;
zFjITuX*r+k$!%?IM|-QP+L#d22R^uQ`P(S>(pXk{c>O<2<{qpY>iA{*uLnO%?axg0
zS5wDd9Uq+<Zy$>Xbk;lS?e%@_9nTGSc6N7lbnlJN{oVEY(ve*k9wkh^GIr|3>;IGR
T@y{b4Mgk1>AL{#}m*4sq82r;n

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-3.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-3.png
new file mode 100644
index 0000000000000000000000000000000000000000..a7a68a2caa765b5b68cc8253848ead683225cd5e
GIT binary patch
literal 1349
zc$}S6Uue~J6hAQsb8E5}C-l;>h&{OFz4KZz$j;VQ8<bkDxFO{ksSzs^y{LuM;gU#i
zg<ud72QmX$aU-HYh_e<__K+m>Fr?11r=YOHii+LN`Qn}<zh8d8@Ar53o^w8bzQ32Z
zZ@ss-`-W}+=$)Dze-Plh!PuYZ>WKG4M<*Ph1Ge8cJrSQ$9x02IoyE9lr_Nm_1V#`9
zMKA<M00JZ+0wxdwB`^Xf00v|r24)ZjWiSTktc(IAz@>!>n1Dww1ympfRuBbMFa=it
z12iB5HV^|fFatLL2Xr6@b`S@3Fb5AB5EuhabdDxbFH+-FqC_M@VkALQBt!B7J;E`V
zNQjikh`jJY&L}eplQJ2T7m_G>l!Zh{g-pl`bJWadB~el(Q}QAQS{7v^F;XKl@}d!X
zc48-SQYUlr6fV?_a-ms@uSq)irD}-Tn^6QsQ4Gb4l$gK+W59{d(Io1nzQ~D^S%gJd
zjKz!Sm<J=4L&IDVFHWE)AJ&Yjim7<92Q5jm<x#b`4C2Kz^kmMS`RZaWo<_#K2zudm
z910J^u5cz@L`*Fhv!bFInip#^B@cD8jix-IMEZ@KsxfD8WivJ}mjIJuut`9gaH4bG
z4Aj(@HBqXXsd>3Bm?a}Sp+~s=_hr?S!Mz=qr48+}w976={p;Fz1Xk~xeDpx9ljXVR
zi`gw1Jh*T4$(26`emMX5)A7-m8XuiLy!g}N`@IX5zEz`FcE0-MfzyrAzKzWfmIem4
zeP&<%_TwL?znvZUdCR~HwYiRiGxN>OpPZ>3+0hzXnQyLHTGP`%_se7T)@?KIUjJSH
zT;J9C$~$*|ywL2NJ+iKU?*96Qg^xNnth&Zo`~9`IHvZ$!AM5PtAFSWFclGRFm$r33
z(sgxyeqsH^fY#ab&9NPyzP|kD@#fl<`D>%=P`$<T%_~bMTBq(>KFLR~b)H?`-}wI4
z!FucLp_%!`mp&Z+|1#Wp=EcKroF7{}_rTj>#4U}9dgF=xyJs4^hjzsahAY*|P-XK_
z^^WP`;gMQ(WK(sha{EZ7viGK&*RCWy^X#st_B{6=3Dx5dua5+nn%Fx2-WWIk1=sWo
AdjJ3c

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-4.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-4.png
new file mode 100644
index 0000000000000000000000000000000000000000..c099ae4271a7adf8100f5bf40afa87d43274c15c
GIT binary patch
literal 1018
zc$|e(KS<Y65dVk}WlGRi5Zn^jApA7La;Q@@6~ZhWZ0bTSDkLcjs^xI9p}F;fXlMv(
zDrh(wqFjomhK8f9O$eukUw03jd+@&R{f>8cpFj6|vM@h0(08;Cz`)$>)a5*n)ZX8l
z-#=sbF9E$+xUe{#KecUbhqjyN`spvXcbFgqB^bd8K>&jo%n*h$jNy!6KtKW(h(HA<
za6w2_CIu^`wJ?P%B6}Igzy>j>!3=H)103XFhd9(>4tInD0Sa(H0vfP@2O<)4VoW&M
zIh$m?OwCt?l8BjDh?Urgoj4lw4CfMNWj1DKj>d<iq9UxqChWq|NRrl5QC4MBcI9Zy
z$tqur)!2;PIGP;fRaBhS*__=unno1WNrE-lf;~7&xKuaGrDi3*73t(xsu5LhAyrZ%
zb<${3QUOnl2`4*eldM<zk`zi2RZ$al(P*MmJ<M1wOLJADIYCx@#42j0ZW_%V@**i-
zPt9`}G@54=#ayEDE!0D!jLf-6dg*pPN)OYnbf#P+DlLSnqLDj!G;66OPj#z}l{~3L
z`At%)iBxYBckyULKt(ax6d)@&*|{cztn?KtlxFVc(Z+?UWM&ui40r$Tn7v5u-5i!K
zy6xz;Tdt+=qf;3;us(a`UY@gUpZ{|EYy}^zPu$r1=it@BnaRAIn46kd9Q?X0KYBJv
zKW%p2^z3`|`}wo}kJF#GpX?r5+x>Q~f8XFS;Qg(qTW{YT{*_6`H>Q_1mhY}!+gKf1
z$qz<4!=0hdsiEQ1iz6fBqr>ATM}|6M<DJgc?K4|@32S#&ZeD-*p9DO<_#qQ8H$6Y~
IdQvw30a2obPXGV_

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-5.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-5.png
new file mode 100644
index 0000000000000000000000000000000000000000..9d9d8105ff2aba67ab2ec69e6e5f854cab58345b
GIT binary patch
literal 1026
zc$|e(J!sTX4F5?7tJqnrAOUfbgX>kX6wy?!+Je*~MJhN%+bSY{phXau&`B3Z!9@a=
zjv{pvgiJzp69<P5adU8R5=7xl9(4A>`@eVLCHZ~ip3cvm8`(R$7r@BuO#fn@2Xgm@
zhw}UKimn4gm_NTToj<j0ZHKm-=i2s-k3X3p1SJ^32|)mZ7|alcGK}GjU_d|u7KlIv
zCU8MWRVD>1q_r@GD<XRt$iN0MsKE?w2m>7CV23!=VGehM0|5$fKmr=DfCnNHb7D+5
z**TkJy-dwlg_4MwScsL_h@ChZ^bF?`W@R>JXO6~)q@p6M!Y1s((MXckQ&CoBQ+DNO
z%*iTWjMdnT-8h;Y<W*Fh)!CfgIhsZk)k%Ui*n&McO1M-v%cW)|z7^@@SE><JZy{Au
zBX!bfQc?j=j0q<@XOpZ~`jQk%5miwWb<t>|Q$5UBElYD%qd7rVe8ehhrfwR|9`Yh7
zUQf+)7&Mw^6vbSk@-5Uuqm0bCNP6jZK1vVMu5_kcBq}Y0s-lrQc{FROBu{m#jg>s9
zMEOlps)<x@6L;}wLqJ6_*%TlvIN7--gRJxwE0kvL=F!H5s$^yt^b8OF{4`rn?t>hb
z0S4_Dv|Fyl&&T>1*mG~@@`F5Q+CIB=>r@3F-kZ9y^UuNd<9A2%GB(?vTA28>Bwu%}
zk$$-5owq~#{qXqqj{|plPr6f=o{ir5-h1_H-{}|Mo?qB{vm3E_@X+5+Up6!O$m;as
z>eBs{tE(%W<@})69qV?w$2(&a3%%atv9ZbV@lN-|WVieKeedK>!tJ}uH?KeXPr}B&
Q{%|H>c6zS=`i!jo18rT3?EnA(

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-6.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-6.png
new file mode 100644
index 0000000000000000000000000000000000000000..781f894a5ec68093bdc3aaf0d25df54da6be844d
GIT binary patch
literal 1175
zc$|e(Uue~J6hApJ^=g99!1Zzzf<Q0bt%)+ij$_L$mPjo5^)k-bR-_C?r&yRAD}z`s
z`p`p9Cn!N2aaCkb!D*3LF&jRlh|s~OASPNVgy8j@uL!;Qh41hCy@&JX^XGd%-?ekc
z>XjWU0bupuK;K(&ewllDTYPJO9A5xvgIz<z{qa-EmU2kBS*)9O`j<O|zzBk%2!`MY
zK!5~9zyv~|1V-Qlz<><Izzo8m494J`ol$@UxQtK%6Y!X&fC{9*3ZkG2rr-)-fCgm1
z24bKFX5a?kfDYuq4&tB==HMQf17pC6$uT7QMQLOuN<<<gMiL}NG9)k1BOHr~gh+{u
z$O|9jj53ojDU&gIA&HWyEF?lIWI|q;qh>uTiIOUrk{3D9vMC#hks6ti7md(!5<7{L
zI+>HFaG`Fr3(Zn|P13<HRYT0#j3OwCVklmu!~`A~15QkiA<-}OMNX8=A}q>cEM7#%
zOpI7A4Rb}jIDwjcSTm|BrsBmOv?R%vscP{U#EWO>$(%jw)x}&qjf{5@^up~(3J=4s
za3)<uOf49*qoNs_7i%#k4|Q{lraYlU`i-2bG3RV$Gd3@e0Fz>{NkE!#VsgF=)YO+X
zQL37$d3i3FEu%W2N4WLij_NnTy%mq81+8+l$}LuPwYx6@EA|h(b1=?<vS0ss@3ssc
z-oO35C;uGy@BYNEak(_uw|)4?jm7KhpR>lQr9V7u^&cDg_HTV@esIh5(1tZ#m;X6B
ze{Ijmq1%g}oOt`vSC^a38`am(E~%aUV)Mz-(TnGL*DP({y>9P@ALr)YSYE4bT)%14
z%%{y}bM4&Rp0UNF%NAcAnXjtJnS;}_3$xEu)oT|XSNwJJR{h^eX#f4UnT59F(Yj~$
zNbRE+<V3FL*S5Fs?yah7MUFVU?bMa;e~NZ*j%TOG>HkAAeQ(K7=bs&ScbrM?FHZGW
zQ)34vMyDp~<MDy6MrWhm*j(@2I^5OO)7{zgN_V}nrKiz&wPV%!Ck2!H#@~PUgQpaX
To&E5$D1gEKoqgZ+^2d(=--Xg1

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-7.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-7.png
new file mode 100644
index 0000000000000000000000000000000000000000..3f91a11f8e20fc4b3a083cdba03505eeb7c3b008
GIT binary patch
literal 1276
zc$|e(L1>&+5T4Rv+oS<6Ss_9h4<57$Y}N!NQklk$CLpy+EGxZCX_6u#ZEaJvC^(3F
z5b33;pcoj7DB`M7k<g+z23k<4mV!Bif&+pr1hLYCw1KWOFNEH7;Q!zIXJ_X7=9}3!
z_UwMVtD~m_0J_FT>rcn|4#0-qEgR!jxpDSIfQ_){iSd#6l=4V9q}(j*vVHW^H9}wn
zK~Mxka0DPg0wQ1nAy5J%Z~|aJ24Y|aVNeERaL&poKmuGKRKNs0uoO^%6j(tNRKXNn
z0SwT94A?*n)W8hf036VP9N0k|)WICwgL7~UI)NM@Q7=*>Dp?{DAu*C5DUu<1p&srq
zCK4hgG9oYiAg7m^gh`o<$xD+c8OlN;q(Ua-rE}EGXC+ZmB~$Vu2U-?oBQa7VGxDMl
zdLprtIH{94c?uWmM!C=|#n)^)`b*Ui6Pr;4MNtgJi<FqegJaMM<N%3!sV{P}WENpj
z7Gv=uI%Z(_(lmxE;$;%3*$-=aRmD`ij0Y{7WXn*sSO)PjGxY47J@eJYTs#LEdlBu$
zv?C~H7~_h`<P;H83&yOdXoluxw3w2Ix(TBxPbiV|Mo!h36I<Dg&C3#Cwiw+cAx%1g
zoST7~`m!cVRWmg&>w;M_vXgqa+pE`9KaAenu`F$9m!n;7VU0@z^>A!GGWzVXI7iF#
z*pJhXr1OO%yAH1ZbKsBdV?W1b$5?&W_)E)wE`QLqsec>%u=4%sxBj_w{n4jh*)dsp
zx4wPq)Rh|xx4ye@c<$v@-k)~z>%Fz!-qvuVvGC>Tk9#`Prr-bORQ%MvxOnzt_s(A%
z#eQ$Sy{)tJ(>p7bz4xpoG@A4C^Brq}i}%0YY(BH41T4+8=Kgwk_08X=ded4bmd>2p
zclC=6rOaJl-9|Zn=<mwSX{dxPHCtCdIlq|Jb8v3ox6NBU(oE~#`rn|(@1DN0^2?cp
zHImoYNd|}8^*)<e%R6*n<jKKGfg4!a{OZMv!}l#;*c2MxJ3G>tJ#ch#|LkPnM7*F@
z?XUJ#2mAUT8n4xc2Kt8{80@P)I8?2^H?#SU^@N$j6VFYZ_@9Jxm!Gdi0*sC9u75tv
Gul)<%clo9O

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-8.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-8.png
new file mode 100644
index 0000000000000000000000000000000000000000..69951ec2571fc91117bb4d0589c85e023cdca9bc
GIT binary patch
literal 1018
zc$|e(KS<Y65dVlE{ZWFpg5Z|G2H~e!hC^MUsSsk}VB3XSlt@w*)N}|z4$TcM7eqrr
zQB!S4LzGL=)X;FWwF%|a@ayh@a}VD4z2EWf?(^q<n{%^M1N#o|128Z%J#i_|L$&wx
z=J)s5or^#(<}S=n=1*-~+oA2|xqkTbt!*X<K?z21LJ+_p1~Y`A3}ZMW7!Z(v1tL&^
z30x3Tl}W)0X)R3QipX9DGO$4mYA}Nv!T<+3*dY#en8O|6K!5@qkbnj(;DLz5oEQ^M
zcFrbQFH`eXp(J7^7GfnfVkeFUJ;S+#S(%O5nWOO`si+96unD_xG?JwCRFqZOlwCO*
zbF#`8V>LEoH;yI;c@-6Bbv9>rj;0Ysb&_BWwqOsA5-!!va;aH~Z$&!!m1;!QTS%4E
zNS!pAlvKbIW5UVK*(B?gz9fZGL{-#8T{N2LR1Y&&%hFucXikt7AF+y>shdW#hrCFN
z*HiNx294$!MKPDCd<*r^C?j(&l3u!<kJ7`mE1fA9iAoEhs%Yd+9?e=R$y42GV<k^2
zQGSz@Y9iI!#9chv5KvJ}HU-EEPIj)zAS->v3Z<F5d9-n%Dw){@J;U9<+h)&_dpC!r
zi*7r*?Urld+vr3F_O4A|zMbcE+vh*8oUY*AwX@fD|2cTEf9hObj?GM*oge(NDBpWF
zNI!0L-t_d{|Mm27|A)y>TbnxvR(HOh>F*mn0=&QR=;7OU2Y+VL(e=rN^~GDuSJsz@
zmhyv<&Twa_b7E-t)cnZE_~`KX@smTHvGGpl<%1(nb`w@_E?vKR?>`BDMps^E0%j&>
JCtjVCjelO&h7kY&

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-9.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max-9.png
new file mode 100644
index 0000000000000000000000000000000000000000..3ac586daa5ad0639d1f53d9a9f3e77e2f9a405fb
GIT binary patch
literal 1025
zc$|e(KWNlZ4F05xR=SE-lq`-%uV<yDgG77PR-}|tux=@B6%kRi6x@P?py1-*<dC5#
zE<#0cG@GbfK~QjrgPTHebvTm;oqh0r?_GFFzCXD~iwhS=hDV11jLgsVm-6i8K6Y>@
zzx~HgwtyilUS6KfpW3#zL)*=BefJli_Lv|9B^bd8K>&jo%n*h$jNy!6KtKW(h(HA<
za6w2_CIu^`wJ?P%B6}Igzy>j>!3=H)103XFhd9(>4tInD0Sa(H0vfP@2O<)4VoW&M
zIh$m?OwCt?l8BjDh?Urgoj4lw4CfMNWj1DKj>d<iq9UxqChWq|NRrl5QC4MBcI9Zy
z$tqur)!2;PIGP;fRaBhS*__=unno1WNrE-lf;~7&xKuaGrDi3*73t(xsu5LhAyrZ%
zb<${3QUOnl2`4*eldM<zk`zi2RZ$al(P*MmJ<M1wOLJADIYCx@#42j0ZW_%V@**i-
zPt9`}G@54=#ayEDE!0D!jLf-6dg*pPN)OYnbf#P+DlLSnqLDj!G;66OPj#z}l{~3L
z`At%)iBxYBckyULKt(ax6d)@&*|{cztn?KtlxFVc(Z+?UWM&ui3=jV9nQbTcK@Q6R
zgLVwsE!WEKL_Y(E?#x}im*-sD7e3xRTfwb6=dSPnbMQglyvs{>zJG3c>hqe&*PWq<
zt9XC(DedU$)VJRAw{rNzui;lG#%8`e`?0+-_4Cs1tpgZ&dHm$>!Ija>J+(QzvblD5
zV|8<*vz{OHy5rqW_e^JeYPr{&o*17#J=y6_PItQ_e~ygpC)~Qde&gEx|0FEU$ni|T
M{Om&i^?7;l578Be+yDRo

diff --git a/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max.png b/layout/reftests/w3c-css/submitted/ui3/support/replaced-min-max.png
new file mode 100644
index 0000000000000000000000000000000000000000..3ef233005ae9122c3b4145a93b1510d07c57713f
GIT binary patch
literal 1083
zc$|e(O^D865FfeNUBYD#Tt*wYY`rU=d$5Cd*^SnwrM0DITf06s5sQ3fxN*RVC>bTv
z;-YnMnxaHXODrYLRj3sXLa&*poISn&|MR@lGc&)B`Jd_TS~sJ9PCWq3=<KL&ihX@P
z)27CI=7qCw0j5IthMxBLE9H^0NjX`p_jdEyBq1<@ASi+%I06tL0TD2P5Ga8WH~}yq
z12HgzFermDIA>)PAOS8dRKNs0dMTg+DX@YlsDdfD0vMnH8L)vEsDT-{0XU!oIk1B`
zsDnAU2j;*SaH4ZGiF%P5w-O~H5fUQ_k|G(B7w8d=#Y94+L`LL=4{}DCNtl$$n7oig
z$*U|RLMmiJUYMh1J}ZfmDw&cOInc5w8;Ow`nUNQb(6bXeiIX~+lc#W@Zj=knQhZI)
z!7o)q%-)P5D2iezUZlhX9vA~obdDxbFZD%El*}S5%3>^DM8~`sv0NJFig<AXHTke+
zR8>sHi#=#bk}a>Q#W08$&(M=Od*-W)xp*2Ga}o5y?YI;khF#%Ix`>!sFlI$XGc+&O
zVoDzBW*bd;LW%SnIaOoM-pXcdUWNdZVz5a-nsB0XP6le~%bF-v&D6Y%3uej4PUsP?
z{hCz05!`DrEH$W=tyWI4dS5QCMxbtA$JPU}ca&%C)8UmFJhX4sj(=Yc4A}V2IPC7M
zuIlN1^kt%@9_GzjGyc9-UGd?;mWQXNG#zi4`}I`a^o5-dCQfV{zunjT;%?vQl4D1o
z-+A--<LripPn(C^uAjT~=VarD`wPD99_zb*>&f@0SKqyAYHWNny5-Zg^R<DYv7wFU
zFTcL>M}JHi8~yqF+TrVM(RKbvd+*4={=xo{!RGDpf<={<N^@mt{CZlJv{sh3E?VAP
lS=L&q@WG4y{}T4>-M(w+$bS;r9{c7<fX?==>b=!``Y*?}u7Cgl

