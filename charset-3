# HG changeset patch
# User Kevin Wern <kevin.m.wern@gmail.com>
# Date Mon, 20 Apr 2015 23:38:13 -0700
# Parent  99fcdda7ccafe1969e696c7399438a7c2eb66ece

Bug 1148694 patch 3 - remove tests affected by removal of CSSCharsetRule. r=dbaron, r=khuey

diff --git a/dom/tests/mochitest/general/test_interfaces.html b/dom/tests/mochitest/general/test_interfaces.html
--- a/dom/tests/mochitest/general/test_interfaces.html
+++ b/dom/tests/mochitest/general/test_interfaces.html
@@ -266,18 +266,16 @@ var interfaceNamesInGlobalScope =
     "Crypto",
 // IMPORTANT: Do not change this list without review from a DOM peer!
     "CryptoKey",
 // IMPORTANT: Do not change this list without review from a DOM peer!
     "CSS",
 // IMPORTANT: Do not change this list without review from a DOM peer!
     "CSS2Properties",
 // IMPORTANT: Do not change this list without review from a DOM peer!
-    "CSSCharsetRule",
-// IMPORTANT: Do not change this list without review from a DOM peer!
     "CSSConditionRule",
 // IMPORTANT: Do not change this list without review from a DOM peer!
     "CSSCounterStyleRule",
 // IMPORTANT: Do not change this list without review from a DOM peer!
     {name: "CSSFontFaceLoadEvent", pref: "layout.css.font-loading-api.enabled"},
 // IMPORTANT: Do not change this list without review from a DOM peer!
     "CSSFontFaceRule",
 // IMPORTANT: Do not change this list without review from a DOM peer!
diff --git a/layout/style/test/test_css_eof_handling.html b/layout/style/test/test_css_eof_handling.html
--- a/layout/style/test/test_css_eof_handling.html
+++ b/layout/style/test/test_css_eof_handling.html
@@ -124,26 +124,16 @@ const tests = [
   {
       todo: 1,  /* bug 446226 */
       name: "selector 3",
       ref: "td:lang(en) {}",
       tst: "td:lang(en"
   },
   
   {
-      name: "@charset 1",
-      ref: "@charset 'utf-8';",
-      tst: "@charset 'utf-8"
-  },
-  {
-      name: "@charset 2",
-      ref: "@charset 'utf-8';",
-      tst: "@charset 'utf-8'"
-  },
-  {
       name: "@media 3",
       ref: "@media all {}",
       tst: "@media all {",
   },
   {
       name: "@namespace 1a",
       ref: "@namespace foo url('http://foo.example.com/');",
       tst: "@namespace foo url('http://foo.example.com/')"
diff --git a/layout/style/test/test_rule_insertion.html b/layout/style/test/test_rule_insertion.html
--- a/layout/style/test/test_rule_insertion.html
+++ b/layout/style/test/test_rule_insertion.html
@@ -102,21 +102,16 @@ var innerRuleInfo = [
      if (navigator.oscpu.match(/Linux/) ||
          navigator.oscpu.match(/Android/) ||
          SpecialPowers.Services.appinfo.name == "B2G") {
        return true;
     }
     return Math.abs(width - (aApplied ? monospaceWidth : serifWidth)) <= 1; // bug 769194 prevents local()
                                              // fonts working on Android
    }],
-  ["@charset 'UTF-8';",
-   function(aApplied, aParent, aException) {
-     // just test whether it threw
-     return aParent instanceof CSSRule ? aException : !aException;
-   }],
   ["@import url(nothing.css);",
    function(aApplied, aParent, aException) {
      // just test whether it threw
      return aParent instanceof CSSRule ? aException : !aException;
    }],
   ["@namespace test url(http://example.org);",
    function(aApplied, aParent, aException) {
      // just test whether it threw
