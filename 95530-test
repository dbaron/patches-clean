# HG changeset patch
# User Mathias De Mar√© <mathias.demare@gmail.com>
# Date 1411642846 -7200
#      Thu Sep 25 13:00:46 2014 +0200
# Node ID c142f510e6619fda6a64dceb259aede8bedcad9d
# Parent  1e2993c99323c20b8a1d0ac4d68c72474ccd9021
Bug 95530 - add test for checking if the topmargin and leftmargin attributes on the BODY element are honored in all modes.  r=dbaron

diff --git a/content/html/content/test/mochitest.ini b/content/html/content/test/mochitest.ini
--- a/content/html/content/test/mochitest.ini
+++ b/content/html/content/test/mochitest.ini
@@ -413,16 +413,17 @@ skip-if = (buildapp == 'b2g' && toolkit 
 skip-if = (toolkit == 'gonk' && debug) || e10s #debug-only failure
 [test_bug845057.html]
 [test_bug869040.html]
 [test_bug870787.html]
 [test_bug874758.html]
 [test_bug879319.html]
 [test_bug885024.html]
 [test_bug893537.html]
+[test_bug95530.html]
 [test_bug969346.html]
 [test_bug982039.html]
 [test_bug1003539.html]
 [test_bug1045270.html]
 [test_change_crossorigin.html]
 [test_checked.html]
 [test_dir_attributes_reflection.html]
 [test_dl_attributes_reflection.html]
diff --git a/content/html/content/test/test_bug95530.html b/content/html/content/test/test_bug95530.html
new file mode 100644
--- /dev/null
+++ b/content/html/content/test/test_bug95530.html
@@ -0,0 +1,38 @@
+<!DOCTYPE html>
+<html>
+<!--
+https://bugzilla.mozilla.org/show_bug.cgi?id=95530
+-->
+<head>
+  <meta charset="utf-8">
+  <title>Test for Bug 95530</title>
+  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
+  <script type="application/javascript">
+
+  /** Test for Bug 95530 **/
+  function run() {
+    is(document.compatMode, "CSS1Compat", "Ensure we are in standards mode, not quirks mode.");
+
+    var body = document.getElementsByTagName("body");
+
+    is(computedStyle(body[0],"margin-top"), "100px", "Ensure margin-top matches topmargin");
+    is(computedStyle(body[0],"margin-bottom"), "150px", "Ensure margin-bottom matches bottommargin");
+    is(computedStyle(body[0],"margin-left"), "23px", "Ensure margin-left matches leftmargin");
+    is(computedStyle(body[0],"margin-right"), "64px", "Ensure margin-right matches rightmargin");
+    SimpleTest.finish();
+  }
+  SimpleTest.waitForExplicitFinish();
+  window.addEventListener("load", run, false);
+  </script>
+</head>
+<body topmargin="100" bottommargin="150" leftmargin="23" rightmargin="64">
+<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=95530">Mozilla Bug 95530</a>
+<p id="display"></p>
+<div id="content" style="display: none">
+
+</div>
+<pre id="test">
+</pre>
+</body>
+</html>
